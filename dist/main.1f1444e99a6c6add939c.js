(()=>{"use strict";const e=document.querySelector(".edit-area-sections"),t=document.querySelector(".underline");function n(e,t){return t.toLowerCase().split(e).filter((e=>0!==e.length))}const r=document.querySelectorAll(".string-data p span");function c(e,t){for(let n=0;n<e.length;n++){const r=new RegExp(`\\b${e[n]}\\b`,"gi");t=t.replace(r,(e=>`<mark class="match">${e}</mark>`))}return t}function a(e,t){for(let n=0;n<e.length;n++){e[n].textContent.match(/^\w+/).toString()===t?e[n].className="active":e[n].removeAttribute("class")}}document.querySelector("#text-area");function o(e,t){const n=new RegExp(`\\b${e}\\b`,"gi");return t.replace(n,(e=>`<mark class="match">${e}</mark>`))}const i=document.querySelector("#highlighted-repeated-words"),d=document.querySelector(".repeated-words-list"),s=d.childNodes,l={highlighted:!1,currentWord:""};function u(e,t,n){for(;d.hasChildNodes();)d.removeChild(d.firstChild);t.includes(l.currentWord)||(l.currentWord=""),e.forEach((e=>{const t=document.createElement("li");t.addEventListener("click",(t=>{const r=function(e,t,n,r,c){return"active"!==e.className?(r.innerHTML=o(t,c),a(n,t),{highlighted:!0,currentWord:t}):(e.className="",r.innerHTML=c,{highlighted:!1,currentWord:""})}(t.target,e[0],s,i,n);l.highlighted=r.highlighted,l.currentWord=r.currentWord,t.preventDefault()}));const r=document.createTextNode(`${e[0]} : ${e[1]}`);t.appendChild(r),d.appendChild(t)})),l.highlighted&&(i.innerHTML=o(l.currentWord,n),a(s,l.currentWord))}const p=(e="")=>{let t=String(e);return t=t.replace(/&nbsp;/gi," "),t=t.replace(/&amp;/gi,"&"),t=t.replace(/<br>/gi,"\n"),t=t.replace(/<div>/gi,"\n"),t=t.replace(/<p>/gi,"\n"),t=t.replace(/<(.*?)>/g,""),t=t.split("\n").map(((e="")=>e.trim())).join("\n"),t=t.replace(/\n\n+/g,"\n\n"),t},m="function",h=document.querySelector("#text-area"),f=document.querySelector("#highlighted-overused-words");let g="";const v=document.querySelector(".overused-words-list"),E=document.querySelector("#highlighted-overused-words"),b=document.querySelector("#text-area");let L;function x(e,t){for(;v.hasChildNodes();)v.removeChild(v.firstChild);e.forEach((n=>{const r=document.createElement("li"),a=document.createElement("input"),o=document.createElement("span"),i=document.createElement("span");i.addEventListener("click",(n=>{L=p(b.innerHTML),function(e,t,n,r,a){const o=r.parentElement.id;t.forEach(((e,n)=>{e===o&&t.splice(n,1)})),e.forEach(((t,n)=>{t===o&&e.splice(n,1)})),r.parentElement.remove(),n.innerHTML=c(t,a)}(e,t,E,n.target,L),n.preventDefault()})),a.addEventListener("change",(e=>{L=p(b.innerHTML),function(e,t,n,r){if(n.checked)e.push(n.parentElement.id);else for(let t=e.length-1;t>=0;t--)if(e[t]===n.parentElement.id){e.splice(t,1);break}t.innerHTML=c(e,r)}(t,E,e.target,L),e.preventDefault()}));const d=document.createTextNode(n);r.appendChild(d),r.appendChild(a),r.appendChild(o),r.appendChild(i),r.setAttribute("id",n),a.setAttribute("type","checkbox"),a.setAttribute("class","checkbox"),i.setAttribute("class","remove"),o.setAttribute("class","check-mark"),t.includes(n)&&a.setAttribute("checked",""),v.appendChild(r)}))}const y=document.querySelector("#add"),C=document.querySelector("#input");function q(e,t,n,r){n.forEach((n=>{const c=document.createElement("li"),a=document.createElement("button");a.addEventListener("click",(r=>{e.includes(n)||(e.push(n),x(e,t)),r.preventDefault()}));const o=document.createTextNode(n),i=document.createTextNode("add");c.appendChild(o),a.appendChild(i),a.setAttribute("class","material-icons predefined-words btn"),c.appendChild(a),r.appendChild(c)}))}const S=document.querySelector(".cv-overused-words"),T=document.querySelector(".common-overused-words"),w=[],k=[],N=["passionate","creative","driven","responsible","strategic","organizational","expert"],D=["other","more","new","good","best","many","important","great","first","able"];const H=document.querySelectorAll(".menu-btn");Array.from(H,(n=>n.addEventListener("click",(n=>{!function(n,r){r.forEach((e=>{e.classList.remove("active")})),n.target.classList.add("active");const c=n.target.getAttribute("value");"textarea"===c?(t.className="underline underline-textarea",e.className="edit-area-sections textarea"):"words"===c?(t.className="underline underline-words",e.className="edit-area-sections words"):"faq"===c&&(t.className="underline underline-faq",e.className="edit-area-sections faq")}(n,H)}))));const M=(q(w,k,N,S),q(w,k,D,T),function(e,t){y.addEventListener("click",(r=>{const c=n(/,\s*|\s+/g,C.value);[...new Set(c)].filter((t=>!e.includes(t))).forEach((t=>e.push(t))),x(e,t),C.value="",r.preventDefault()}))}(w,k),k);!function(e){h.addEventListener("paste",(e=>{((e={preventDefault(){}})=>{e.preventDefault();let t="";e.clipboardData&&"object"==typeof e.clipboardData&&typeof e.clipboardData.getData===m&&(t=e.clipboardData.getData("text/plain"));const n=document.createElement("textarea");n.innerHTML=t,t=n.innerText,t=p(t),typeof document.execCommand===m&&document.execCommand("insertText",!1,t)})(e)})),h.addEventListener("input",(t=>{g=p(h.innerHTML);const a=n(/\W+/,g);u(function(e){const t={};e.forEach((e=>t[e]=(t[e]||0)+1));const n=[];for(const e in t)n.push([e,t[e]]);return n.sort(((e,t)=>t[1]-e[1])),n}(a),a,g),f.innerHTML=c(e,g),function(e){const t=n(/\W+/,e);r[0].innerHTML=t.length;const c=e.split(/\w[.?!][\s|$]/);r[1].innerHTML=c.length,r[2].innerHTML=e.length}(g),t.preventDefault()}))}(M)})();